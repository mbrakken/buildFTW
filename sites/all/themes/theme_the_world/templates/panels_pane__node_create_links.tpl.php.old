<?php
/**
 * @file panels-pane.tpl.php
 * Main panel pane template
 *
 * Variables available:
 * - $pane->type: the content type inside this pane
 * - $pane->subtype: The subtype, if applicable. If a view it will be the
 *   view name; if a node it will be the nid, etc.
 * - $title: The title of the content
 * - $content: The actual content
 * - $links: Any links associated with the content
 * - $more: An optional 'more' link (destination only)
 * - $admin_links: Administrative links associated with the content
 * - $feeds: Any feed icons or associated with the content
 * - $display: The complete panels display object containing all kinds of
 *   data including the contexts and all of the other panes being displayed.
 */
?>
<?php
function theme_the_world_item_list($vars) {
  $items = $vars['items'];
  $title = $vars['title'];
  $type = $vars['type'];
  $attributes = $vars['attributes'];

  $output = '<div class="item-list">';
  if (isset($title)) {
    $output .= '<h3>' . $title . '</h3>';
  }

  if (!empty($items)) {
    $output .= "<$type" . drupal_attributes($attributes) . '>';
    $num_items = count($items);
    
    foreach ($items as $i => $item) {
      $attributes = array();
      $children = array();
      if (is_array($item)) {
        foreach ($item as $key => $value) {
          if ($key == 'data') {
            $data = $value;
          }
          elseif ($key == 'children') {
            $children = $value;
          }
          else {
            $attributes[$key] = $value;
          }
        }
      }
      else {
        $data = $item;
      }
      
      if (count($children) > 0) {
        // Render nested list.
        $data .= theme_item_list(array('items' => $children, 'title' => NULL, 'type' => $type, 'attributes' => $attributes));
      }
      
      if ($i == 0) {
        $attributes['class'][] = 'donkey';
      }
      
      if ($i == $num_items - 1) {
        $attributes['class'][] = 'last';
      }
      
      static $i_id = 0;
      $attributes['class'][] =  $i_id += 1;
      $id .= ' ' . 'node-create-links-custom-id-' . $i_id;
      
      $output .= '<li' . drupal_attributes($attributes) . '>' . $data . "</li>";
    }
    
    $output .= "</$type>";
  }
  
  $output .= '</div>';
  
  return $output;
}
?>

static $item_id = 0;
  $element['#attributes']['class'][] = 'menu-item-custom-id' . (++$item_id);
  $sub_menu = $element['#below'] ? drupal_render($element['#below']) : '';